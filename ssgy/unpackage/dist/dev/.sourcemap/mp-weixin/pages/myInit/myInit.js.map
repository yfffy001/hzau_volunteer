{"version":3,"sources":["uni-app:///main.js","webpack:///D:/study/课程代码/软件工程/rxyxs-master/pages/myInit/myInit.vue?7e59","webpack:///D:/study/课程代码/软件工程/rxyxs-master/pages/myInit/myInit.vue?57dd","uni-app:///pages/myInit/myInit.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,+F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AACA;AAC0D;AACL;;;AAGrD;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAioB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;sGCArpB,E","file":"pages/myInit/myInit.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/myInit/myInit.vue'\ncreatePage(Page)","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./myInit.vue?vue&type=script&lang=js&\"\nexport * from \"./myInit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/myInit/myInit.vue\"\nexport default component.exports","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myInit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myInit.vue?vue&type=script&lang=js&\"","<!-- <template>\n\t<view>\n\t\t<uni-popup ref=\"popup\" type=\"center\">\n\t\t\t<view class=\"all\">\n\t\t\t\t<view class=\"pop\">\n\t\t\t\t\t<image src=\"../../static/logo2.png\" mode=\"widthFix\"></image>\n\t\t\t\t\t\n\t\t\t\t\t<button open-type=\"getUserInfo\" @getuserinfo='loginUser'>\n\t\t\t\t\t\t<view class=\"icon iconfont icon-weixin\" style=\"font-size: 30px;\"></view>\n\t\t\t\t\t</button>\n\t\t\t\t\t<view class=\"getRight\">\n\t\t\t\t\t\t<p>微信授权登录之后</p>\n\t\t\t\t\t\t<p>才可以进行下一步操作哦</p>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</uni-popup>\n\t</view>\n</template>\n\n<script>\nimport {mapState, mapMutations} from 'vuex'; \nexport default{\n\tdata(){\n\t\treturn {\n\t\t\tmyData:{\n\t\t\t\tnickName:'',\n\t\t\t\tgender:'',\n\t\t\t\tcode:'',\n\t\t\t\tavatarUrl:'',\n\t\t\t\tsessionId:''\n\t\t\t},\n\t\t\ttelephone:'',\n\t\t\tcheckCode:'',\n\t\t\tcodeTime:0\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.$refs.popup.open()\n\t},\n\tcomputed:{\n\t\t...mapState(['hasLogin'])\n\t}, \n\tmethods:{\n\t\t...mapMutations(['login']),\n\t\tloginUser(){\n\t\t\tuni.getProvider({\n\t\t\t  service: 'oauth',\n\t\t\t  success: (res) => {\n\t\t\t\tif (~res.provider.indexOf('weixin')) {\n\t\t\t\t\tuni.login({\n\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tthis.myCode = res.code;\n\t\t\t\t\t\t\tuni.getUserInfo({\n\t\t\t\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\t\t\t\tsuccess: (info) => {//这里请求接口\n\t\t\t\t\t\t\t\t\tthis.myData.code = res.code\n\t\t\t\t\t\t\t\t\tthis.myData.nickName = info.userInfo.nickName\n\t\t\t\t\t\t\t\t\tthis.myData.gender = info.userInfo.gender\n\t\t\t\t\t\t\t\t\tthis.myData.avatarUrl = info.userInfo.avatarUrl\n\t\t\t\t\t\t\t\t\tconsole.log(this.myData)\n\t\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\t\turl:'https://www.nssnail.com/wx/onLogin',\n\t\t\t\t\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\t\t\t\t\twithCredentials:true,\n\t\t\t\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\t\t\t\tmyData:this.myData,\n\t\t\t\t\t\t\t\t\t\t\tavatarUrl:this.myData.avatarUrl,\n\t\t\t\t\t\t\t\t\t\t\tcode:this.myData.code,\n\t\t\t\t\t\t\t\t\t\t\tgender:this.myData.gender,\n\t\t\t\t\t\t\t\t\t\t\tnickName:this.myData.nickName\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\tif(res.data.stat==1){\n\t\t\t\t\t\t\t\t\t\t\t\tthis.myData.sessionId = res.data.data.sessionId\n\t\t\t\t\t\t\t\t\t\t\t\tthis.login(this.myData)\n\t\t\t\t\t\t\t\t\t\t\t\tif(res.data.data.isSelectedRedCross == true){\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl:'../my/my'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl:'../certification/certification'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:res.data.message\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\t\t\tuni.showToast({title:\"微信登录授权失败\",icon:\"none\"});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\tuni.showToast({title:\"微信登录授权失败\",icon:\"none\"});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请先安装微信或升级版本',\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t  }\n\t\t\t});\n\t\t},\n\t\t\n\t\t// 阻止关闭\n\t\tstopClose(){\n\t\t\tthis.$refs.popup.open()\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.all{\n\tmargin: 30rpx;\n\tborder-bottom: 2rpx solid #EEEEEE;\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n}\n.left{\n\tmargin-bottom: 30rpx;\n\tmargin-right: 50rpx;\n\twidth: 200rpx;\n}\n.checkBtn{\n\t\n}\n.pop{\n\twidth: 550rpx;\n\theight: 800rpx;\n\tbackground-color: white;\n\topacity:0.9;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\tmargin: 300rpx auto;\n\tborder-radius: 30rpx;\n}\n.pop image{\n\twidth: 350rpx;\n\theight: 350rpx;\n\tmargin-top: 40rpx;\n\tborder-radius: 50%;\n\topacity:1\n}\n.pop button{\n\twidth: 220rpx;\n\tfont-size: 24rpx;\n\tbackground-color: white;\n\ttransform: translateY(-70rpx);\n\theight: 95rpx;\n\tline-height: 95rpx;\n\topacity:1\n}\n.icon-weixin{\n\tcolor: #09BB07;\n\topacity:1\n}\nbutton::after{ border: none;}\n.getRight{\n\twidth: 400rpx;\n\tmargin: 0 auto;\n\ttransform: translateY(-100rpx);\n\tfont-weight: 600;\n\ttext-align: center;\n}\n.all{\n\twidth: 750rpx;\n\theight: 1400rpx;\n\ttext-align: center;\n}\n</style>\n -->"],"sourceRoot":""}